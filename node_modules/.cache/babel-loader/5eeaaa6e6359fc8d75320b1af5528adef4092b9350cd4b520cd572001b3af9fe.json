{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from \"react\";\n\n// Pass URL\nconst useFetch = url => {\n  _s();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const handleGoogle = async response => {\n    setLoading(true);\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        credential: response.credential\n      })\n    }).then(res => {\n      setLoading(false);\n      return res.json();\n    }).then(data => {\n      if (data !== null && data !== void 0 && data.user) {\n        localStorage.setItem(\"user\", JSON.stringify(data === null || data === void 0 ? void 0 : data.user));\n        window.location.reload();\n      }\n      throw new Error((data === null || data === void 0 ? void 0 : data.message) || data);\n    }).catch(error => {\n      setError(error === null || error === void 0 ? void 0 : error.message);\n    });\n  };\n  return {\n    loading,\n    error,\n    handleGoogle\n  };\n};\n_s(useFetch, \"AvkqqGi0dLSrybP4yaTVnuw07+4=\");\nexport default useFetch;","map":{"version":3,"names":["useState","useFetch","url","_s","loading","setLoading","error","setError","handleGoogle","response","fetch","method","headers","body","JSON","stringify","credential","then","res","json","data","user","localStorage","setItem","window","location","reload","Error","message","catch"],"sources":["/Users/adenankhachnane/Downloads/ReachFlow/reachflow/client/src/hooks/useFetch.jsx"],"sourcesContent":["import { useState } from \"react\";\n\n// Pass URL\nconst useFetch = (url) => {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  const handleGoogle = async (response) => {\n    setLoading(true);\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n\n      body: JSON.stringify({ credential: response.credential }),\n    })\n      .then((res) => {\n        setLoading(false);\n\n        return res.json();\n      })\n      .then((data) => {\n        if (data?.user) {\n          localStorage.setItem(\"user\", JSON.stringify(data?.user));\n          window.location.reload();\n        }\n\n        throw new Error(data?.message || data);\n      })\n      .catch((error) => {\n        setError(error?.message);\n      });\n  };\n  return { loading, error, handleGoogle };\n};\n\nexport default useFetch;\n"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;;AAEhC;AACA,MAAMC,QAAQ,GAAIC,GAAG,IAAK;EAAAC,EAAA;EACxB,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGL,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACM,KAAK,EAAEC,QAAQ,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAEtC,MAAMQ,YAAY,GAAG,MAAOC,QAAQ,IAAK;IACvCJ,UAAU,CAAC,IAAI,CAAC;IAChBK,KAAK,CAACR,GAAG,EAAE;MACTS,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MAEDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEC,UAAU,EAAEP,QAAQ,CAACO;MAAW,CAAC;IAC1D,CAAC,CAAC,CACCC,IAAI,CAAEC,GAAG,IAAK;MACbb,UAAU,CAAC,KAAK,CAAC;MAEjB,OAAOa,GAAG,CAACC,IAAI,CAAC,CAAC;IACnB,CAAC,CAAC,CACDF,IAAI,CAAEG,IAAI,IAAK;MACd,IAAIA,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEC,IAAI,EAAE;QACdC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAET,IAAI,CAACC,SAAS,CAACK,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEC,IAAI,CAAC,CAAC;QACxDG,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC;MAC1B;MAEA,MAAM,IAAIC,KAAK,CAAC,CAAAP,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEQ,OAAO,KAAIR,IAAI,CAAC;IACxC,CAAC,CAAC,CACDS,KAAK,CAAEvB,KAAK,IAAK;MAChBC,QAAQ,CAACD,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEsB,OAAO,CAAC;IAC1B,CAAC,CAAC;EACN,CAAC;EACD,OAAO;IAAExB,OAAO;IAAEE,KAAK;IAAEE;EAAa,CAAC;AACzC,CAAC;AAACL,EAAA,CAhCIF,QAAQ;AAkCd,eAAeA,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}